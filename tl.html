<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>MR KPI V1</title>

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" href="./public/js/bundle.css">
	</head>
<body>
	<div class="container">

		<h1 class="my-4">KPI VERSION ONE<small class="text-muted">  TL page</small></h1>

		<a href="/release_note.html" target="_blank">view release note</a>
		<div id="kpi-content">
			<div class="row">

				<div id="kpi-response-area" class="col-12 col-md-6 order-md-2 sticky-top vh-100 overflow-auto">
					<textarea style="display:none; width: 100%; min-height: 100px;"></textarea>
					<div style="display:none">
						<button type="button" class="load-json">Load JSON</button>
						<button type="button" class="collapse">Collapse to level 1</button>
						<button type="button" class="maxlvl">Show JSON to level 1</button>
					</div>
					<h2>KPI API response:</h2>
					<div id="json">
						<p>
							Please allow up to 20 second after you click on the button to wake the Heroku app.<br>
							<b>Loading button</b> will be coming before 2022 S4.
						</p>
						<p>
							API response will be displayed here directly.<br>
							Data handling will be implemented before 2060.
						</p>
						
					</div>
				</div>

				<div class="col-12 col-md-6 order-md-1">
					
					<div id="kpi-form">

						<div id="kpi-year-week-box" class="sticky-top row" style="background-color: white;">
					
							<div class="col-12">
								<h3>current week number: <b id="kpi-current-week-number"></b></h3>
							</div>
			
							<div class="form-group col-4">
								<label for="kpi-form-year">Year</label>
								<input type="text" class="form-control" id="kpi-form-year">
							</div>
			
							<div class="form-group col-4">
								<label for="kpi-form-week">Week</label>
								<input type="text" class="form-control" id="kpi-form-week">
							</div>

							<div class="form-group col-4">
								<label for="kpi-form-week">Season</label>
								<input type="text" class="form-control" id="kpi-form-season">
							</div>

							<div class="form-group col-12">
								<select class="form-control" id="tl-selected-user">
								</select>
							</div>
						</div>
						
						<hr/>
						
						<button type="button" id="kpi-form-get-points" class="mt-2 btn btn-primary">get week points</button>
						<button type="button" id="kpi-logout" class="mt-2 btn btn-primary">Log out</button>
						<button type="button" id="kpi-fetch-jira" class="mt-2 btn btn-primary">fetch Jira data</button>
						<button type="button" id="kpi-week-calculate" class="mt-2 btn btn-primary">week calculate</button>
						<button type="button" id="kpi-week-check" class="mt-2 btn btn-primary">week check</button>
						<button type="button" id="kpi-season-calculate" class="mt-2 btn btn-primary">season calculate</button>
						<hr/>
			
						<div class="form-group">
							<label for="kpi-form-voteType">voteType(techLeadVoteShare or techLeadVoteHelp)</label>
							<input type="text" class="form-control" id="kpi-form-voteType">
						</div>
			
						<div class="form-group">
							<label for="kpi-form-votePoint">votePoint</label>
							<input type="text" class="form-control" id="kpi-form-votePoint">
						</div>
			
						<div class="form-group">
							<label for="kpi-form-voteReason">voteReason</label>
							<input type="text" class="form-control" id="kpi-form-voteReason">
						</div>
			
						<div class="form-group">
							<label for="kpi-form-lateDay">lateDay</label>
							<input type="text" class="form-control" id="kpi-form-lateDay">
						</div>
			
						<div class="form-group">
							<label for="kpi-form-leaveDay">leaveDay</label>
							<input type="text" class="form-control" id="kpi-form-leaveDay">
						</div>

						<div class="form-group">
							<label for="kpi-form-earlyLeaveDay">earlyLeaveDay</label>
							<input type="text" class="form-control" id="kpi-form-earlyLeaveDay">
						</div>

						<div class="form-group">
							<label for="kpi-form-wfhDay">wfhDay</label>
							<input type="text" class="form-control" id="kpi-form-wfhDay">
						</div>

						<div class="form-group">
							<label for="kpi-form-demoPoints">demoPoints</label>
							<input type="text" class="form-control" id="kpi-form-demoPoints">
						</div>

						<div class="form-group">
							<label for="kpi-form-mrComponent">mrComponent</label>
							<input type="text" class="form-control" id="kpi-form-mrComponent">
						</div>

						<div class="form-group">
							<label for="kpi-form-knowledgeReuse">knowledgeReuse</label>
							<input type="text" class="form-control" id="kpi-form-knowledgeReuse">
						</div>

						<div class="form-group">
							<label for="kpi-form-bugFromTester">bugFromTester</label>
							<input type="text" class="form-control" id="kpi-form-bugFromTester">
						</div>

						<div class="form-group">
							<label for="kpi-form-urgentDelivery">urgentDelivery</label>
							<input type="text" class="form-control" id="kpi-form-urgentDelivery">
						</div>

						<div class="form-group">
							<label for="kpi-form-seriousMistakePoint">seriousMistakePoint</label>
							<input type="text" class="form-control" id="kpi-form-seriousMistakePoint">
						</div>

						<div class="form-group">
							<label for="kpi-form-seriousMistakeReason">seriousMistakeReason</label>
							<input type="text" class="form-control" id="kpi-form-seriousMistakeReason">
						</div>

						<div class="form-group">
							<label for="kpi-form-totalBillable">totalBillable</label>
							<input type="text" class="form-control" id="kpi-form-totalBillable">
						</div>

						<div class="form-group">
							<label for="kpi-form-totalActualWorking">totalActualWorking</label>
							<input type="text" class="form-control" id="kpi-form-totalActualWorking">
						</div>

						<div class="form-group">
							<label for="kpi-form-totalJiraWorking">totalJiraWorking</label>
							<input type="text" class="form-control" id="kpi-form-totalJiraWorking">
						</div>

						<div class="form-group">
							<label for="kpi-form-leave">leave</label>
							<input type="text" class="form-control" id="kpi-form-leave">
						</div>
			
						<button type="button" id="kpi-form-set-hours" class="btn btn-primary">set hours</button>
						<hr/>
			
						<select id="kpi-form-voteType" class="form-control">
							<option value="">voteType...</option>
							<option value="shareVoteRecord">shareVoteRecord</option>
							<option value="helpVoteRecord">helpVoteRecord</option>
						</select>
						skip vote is not supported by the api
						<div class="form-check my-4">
							<input class="form-check-input" type="radio" name="kpi-form-skipvote" id="kpi-form-skipvote-true" value="True" checked>
							<label class="form-check-label" for="kpi-form-skipvote-true">
							Skip vote
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="kpi-form-skipvote" id="kpi-form-skipvote-false" value="False" checked>
							<label class="form-check-label" for="kpi-form-skipvote-false">
							Not skip vote
							</label>
						</div>
						<div class="email-container my-4">
							<div class="email-dropdown-container">
								<select class="email-dropdown form-control" id="kpi-vote-select-user">
								</select>
							</div>
							<div class="email-result-container my-4"></div>
							<div class="form-group">
								<label for="kpi-form-voteFor">voteFor</label>
								<textarea type="text" class="form-control email-result-input" id="kpi-form-voteFor" style="height: 100px;"></textarea>
							</div>
						</div>
						<div class="form-group">
							<label for="kpi-form-votePoint">votePoint</label>
							<input type="text" class="form-control" id="kpi-form-votePoint">
						</div>
			
						<div class="form-group">
							<label for="kpi-form-voteReason">voteReason</label>
							<input type="text" class="form-control" id="kpi-form-voteReason">
						</div>
			
						<button type="button" id="kpi-form-clear-vote" class="btn btn-primary">clear</button>
						<button type="button" id="kpi-form-set-vote" class="btn btn-primary">set votes</button>
						<hr/>
						
					</div>
				</div>
			</div>

			<div>

				<button data-season="1" class="btn btn-primary kpi-season-table-query">query season 1</button>
				<button data-season="2" class="btn btn-primary kpi-season-table-query">query season 2</button>
				<button data-season="3" class="btn btn-primary kpi-season-table-query">query season 3</button>
				<button data-season="4" class="btn btn-primary kpi-season-table-query">query season 4</button>

				<hr />
				<h3>Season Data Table view for selected dev</h3>

				<div class="overflow-auto w-100">
					<style>
						#dev_kpi_table th:first-child, td:first-child
						{
						position:sticky;
						left:-1px;
						background-color: #fff;
						}
					</style>
					<table id="dev_kpi_table" class="table table-striped table-bordered">
						<thead>
							<tr>
								<th scope="col">Name</th>
								<th scope="col">Working</th>
								<th scope="col">Billable</th>
								<th scope="col">points</th>
								<th scope="col">fullAttendancePoints</th>
								<th scope="col">logTimeDaily</th>
								<th scope="col">planTimeDaily</th>
								<th scope="col">writeShareDoc</th>
								<th scope="col">fullAttendanceDay</th>
								<th scope="col">fullWeekDay</th>
								<th scope="col">extraKPIHours</th>
								<th scope="col">leave</th>
								<th scope="col">normalKPIHours</th>
								<th scope="col">totalActualWorking</th>
								<th scope="col">helpVotePoints</th>
								<th scope="col">helpingWinner</th>
								<th scope="col">mostBillable</th>
								<th scope="col">mostWorking</th>
								<th scope="col">shareVotePoints</th>
								<th scope="col">sharingWinner</th>
								<th scope="col">sharingTopic</th>
								<th scope="col">totalAttitude</th>
								<th scope="col">totalExtra</th>
								<th scope="col">totalExtraKPIHours</th>
								<th scope="col">totalGoal</th>
								<th scope="col">totalHelping</th>
								<th scope="col">totalNormalKPIHours</th>
								<th scope="col">totalPerformance</th>
								<th scope="col">totalSharing</th>
							</tr>
						</thead>
						<tbody id="dev_kpi_tbody">
						</tbody>
					</table>
				</div>
	
				<button id="kpi-season-query1" class="mt-2 btn btn-primary">query season 1</button>
				<button id="kpi-season-query2" class="mt-2 btn btn-primary">query season 2</button>
				<button id="kpi-season-query3" class="mt-2 btn btn-primary">query season 3</button>
				<button id="kpi-season-query4" class="mt-2 btn btn-primary">query season 4</button>
				<button id="kpi-week-query" class="mt-2 btn btn-primary">tell me about this week</button>
				<hr />
				<h3>Team Bar Chart</h3>
				<canvas id="kpi-season-chart" width="400" height="400"></canvas>
				<hr />
				<h3>Team Week/Season Table View</h3>
				<div class="overflow-auto w-100">
					<style>
						#tl_kpi_table th:first-child, td:first-child
						{
						position:sticky;
						left:-1px;
						background-color: #fff;
						}
					</style>
					<table id="tl_kpi_table" class="table table-striped table-bordered">
						<thead>
							<tr>
								<th scope="col">Name</th>
								<th scope="col">Working</th>
								<th scope="col">Billable</th>
								<th scope="col">points</th>
								<th scope="col">fullAttendancePoints</th>
								<th scope="col">logTimeDaily</th>
								<th scope="col">planTimeDaily</th>
								<th scope="col">writeShareDoc</th>
								<th scope="col">fullAttendanceDay</th>
								<th scope="col">fullWeekDay</th>
								<th scope="col">extraKPIHours</th>
								<th scope="col">leave</th>
								<th scope="col">normalKPIHours</th>
								<th scope="col">totalActualWorking</th>
								<th scope="col">helpVotePoints</th>
								<th scope="col">helpingWinner</th>
								<th scope="col">mostBillable</th>
								<th scope="col">mostWorking</th>
								<th scope="col">shareVotePoints</th>
								<th scope="col">sharingWinner</th>
								<th scope="col">sharingTopic</th>
								<th scope="col">totalAttitude</th>
								<th scope="col">totalExtra</th>
								<th scope="col">totalExtraKPIHours</th>
								<th scope="col">totalGoal</th>
								<th scope="col">totalHelping</th>
								<th scope="col">totalNormalKPIHours</th>
								<th scope="col">totalPerformance</th>
								<th scope="col">totalSharing</th>
							</tr>
						</thead>
						<tbody id="tl_kpi_tbody">
						</tbody>
					</table>
				</div>

				<h3>Personal Radar Chart</h3>
				tl radar chart will show all team members' data al in once
				WIP...
				<canvas id="kpi-season-radar-chart" width="400" height="400"></canvas>
				<hr />
			</div>
		</div>

	</div>
	<script src="./public/js/bundle.js"></script>

	<script>
		window.mrkpi_main_function('tl');
	</script>
</body>
</html>
